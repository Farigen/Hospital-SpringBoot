webpackJsonp([6],{AnB7:function(e,t){},bqOp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("E4LH");var o=r("jNJV"),s=r("S9KT"),i=r("mtWM"),a=r.n(i),n=r("mw3O"),c=r.n(n),l=(new(r("7+uW").default.extend({template:'<el-image id="imgVerifyCode"  style="margin-left:20px;margin-top:10px;cursor:pointer;" @click.native="changeVerifyCode" :src="codeSrc"  alt=""/>',computed:{codeSrc:function(){return"/getVerifyCode?name=loginCode&key="+(new Date).getTime()}},methods:{changeVerifyCode:function(){document.getElementById("imgVerifyCode").src="/getVerifyCode?name=loginCode&key="+(new Date).getTime()}}}))).$mount(),p={name:"Register",components:{MyHeader:o.a,MyFooter:s.a},data:function(){var e=this,t=function(e,t,r){t.length<6?r(new Error("密码不能少于6位！")):r()};return{registerForm:{username:"18251806718",password:"123456",confirmPassword:"123456",verificationCode:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function e(t,r,o){e()?o():o(new Error("请输入正确的手机号！"))}}],password:[{required:!0,trigger:"blur",validator:t}],confirmPassword:[{required:!0,trigger:"blur",validator:t}],verificationCode:[{required:!0,trigger:"blur",validator:function(t,r,o){/^\d{6}$/.test(r)?(a.a.defaults.withCredentials=!0,a.a.post("/checkVerifyCode",c.a.stringify({name:"loginCode",code:e.registerForm.verificationCode})).then(function(t){"no"===t.data.flag?(e.registerForm.isVerificationCodeTrue=!1,o(new Error(t.data.message))):(e.registerForm.isVerificationCodeTrue=!0,o())}).catch(function(e){console.log(e)})):(e.registerForm.isVerificationCodeTrue=!1,o(new Error("输入6位数字验证码")))}}]},passwordType:"password",capsTooltip:!1,loading:!1,isVerificationCodeTrue:!0,redirect:void 0}},mounted:function(){""===this.registerForm.username?this.$refs.username.focus():""===this.registerForm.password&&this.$refs.password.focus(),document.getElementById("codeImage").appendChild(l.$el)},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,r=e.key;r&&1===r.length&&(this.capsTooltip=!!(t&&r>="a"&&r<="z"||!t&&r>="A"&&r<="Z")),"CapsLock"===r&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},handleRegister:function(){var e=this;!1!==this.registerForm.isVerificationCodeTrue&&(this.registerForm.password===this.registerForm.confirmPassword?a.a.post("/doRegistration",c.a.stringify({phoneNumber:this.registerForm.username,password:this.registerForm.password})).then(function(t){"success"===t.data.flag?e.$router.push({path:"/"}):alert("服务器端产生错误，请重试!")}).catch(function(e){alert("Error:"+e),console.log(e)}):alert("两次输入的密码不同！"))},handleLogin:function(){this.$router.push({path:"/login"})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("MyHeader"),e._v(" "),r("el-form",{ref:"registerForm",staticClass:"login-form",attrs:{model:e.registerForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("用户注册")])]),e._v(" "),r("el-form-item",{attrs:{prop:"phoneNumber"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),r("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),e._v(" "),r("el-tooltip",{attrs:{content:"大写已锁定！",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}]},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),e._v(" "),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),r("el-tooltip",{attrs:{content:"大写已锁定！",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"Password",name:"confirmPassword",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}]},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}}),e._v(" "),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-form-item",{attrs:{prop:"verificationCode"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),r("el-input",{ref:"verificationCode",staticClass:"verificationCodeInput",attrs:{name:"verificationCode",type:"text",tabindex:"3",autocomplete:"on"},model:{value:e.registerForm.verificationCode,callback:function(t){e.$set(e.registerForm,"verificationCode",t)},expression:"registerForm.verificationCode"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8,id:"codeImage"}})],1),e._v(" "),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("注册")]),e._v(" "),r("div",{staticStyle:{position:"relative","margin-top":"30px"}},[r("el-button",{staticClass:"thirdparty-button",attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n        登录\n      ")])],1)],1),e._v(" "),r("my-footer")],1)},staticRenderFns:[]};var u=r("VU/8")(p,d,!1,function(e){r("AnB7"),r("zuJe")},"data-v-37e5d86b",null);t.default=u.exports},zuJe:function(e,t){}});
//# sourceMappingURL=6.e6e1d12e4c1dee4eb335.js.map