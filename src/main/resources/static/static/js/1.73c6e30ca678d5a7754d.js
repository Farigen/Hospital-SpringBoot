webpackJsonp([1],{NYeY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("E4LH"),n=a("mtWM"),r=a.n(n),s=a("mw3O"),i=a.n(s),l={name:"info",data:function(){return{infoForm:{nickname:"",email:"",gender:1,birthday:"",IDCardNo:"",phoneNo:""},infoRules:{username:[{required:!0,trigger:"blur",validator:function(t,e,a){Object(o.c)(e)?a():a(new Error("请输入正确的用户名！"))}}],password:[{required:!0,trigger:"blur",validator:function(t,e,a){e.length<6?a(new Error("密码不能少于6位！")):a()}}]},loading:!1,showDialog:!1,redirect:void 0,otherQuery:{},user:{}}},mounted:function(){var t=this;r.a.post("http://localhost:8081/getAccountInfo",i.a.stringify({userId:this.$store.state.userId})).then(function(e){t.user=e.data,t.infoForm.nickname=e.data.name,t.infoForm.email=e.data.email,t.infoForm.gender=e.data.gender,t.infoForm.IDCardNo=e.data.idCard,t.infoForm.phoneNo=e.data.phoneNumber,t.infoForm.birthday=e.data.birthday}).catch(function(t){console.log(t)})},methods:{handleSubmit:function(){var t=this;this.$refs.infoForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;r.a.post("/updateAccountInfo",i.a.stringify({userId:t.$store.state.userId,name:t.infoForm.nickname,idCard:t.infoForm.IDCardNo,gender:t.infoForm.gender,email:t.infoForm.email,phoneNumber:t.infoForm.phoneNo,birthday:t.infoForm.birthday})).then(function(t){"success"===t.data.flag?alert("提交成功！"):alert("提交失败！")}).catch(function(t){console.log(t)})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"info-card"},[a("div",{staticClass:"info-header",staticStyle:{"margin-left":"10px"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("我的信息")])]),t._v(" "),a("el-form",{ref:"infoForm",staticClass:"login-form",attrs:{model:t.infoForm,rules:t.infoRules,autocomplete:"on","label-position":"left"}},[a("el-form-item",{attrs:{prop:"nickname"}},[a("el-row",[a("el-col",{attrs:{span:3,offset:3}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"nicheng"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("昵   称：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-input",{ref:"nickname",attrs:{placeholder:"昵称",name:"nickName",type:"text",tabindex:"1",autocomplete:"on"},model:{value:t.infoForm.nickname,callback:function(e){t.$set(t.infoForm,"nickname",e)},expression:"infoForm.nickname"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-row",[a("el-col",{attrs:{span:3,offset:3}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"email"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("邮   箱：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-input",{ref:"email",attrs:{placeholder:"邮箱",name:"email",type:"text",tabindex:"2",autocomplete:"on"},model:{value:t.infoForm.email,callback:function(e){t.$set(t.infoForm,"email",e)},expression:"infoForm.email"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"gender"}},[a("el-row",[a("el-col",{attrs:{span:3,offset:3}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"gender"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("性   别：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-radio-group",{attrs:{tabindex:"3"},model:{value:t.infoForm.gender,callback:function(e){t.$set(t.infoForm,"gender",e)},expression:"infoForm.gender"}},[a("el-radio",{attrs:{label:0}},[t._v("男")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("女")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("保密")])],1)],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"birthday",tabindex:"4"}},[a("el-row",[a("el-col",{attrs:{span:4,offset:2}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"chushengnianyue"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("出生日期：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.infoForm.birthday,callback:function(e){t.$set(t.infoForm,"birthday",e)},expression:"infoForm.birthday"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"phoneNo"}},[a("el-row",[a("el-col",{attrs:{span:4,offset:2}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"shoujihaoma"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("手机号码：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-input",{ref:"phoneNo",attrs:{placeholder:"手机号码",name:"phoneNo",type:"text",tabindex:"5",autocomplete:"on"},model:{value:t.infoForm.phoneNo,callback:function(e){t.$set(t.infoForm,"phoneNo",e)},expression:"infoForm.phoneNo"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"IDCardNo"}},[a("el-row",[a("el-col",{attrs:{span:4,offset:2}},[a("span",{staticClass:"svg-container",staticStyle:{float:"right"}},[a("svg-icon",{attrs:{"icon-class":"shenfenzhenghaoma"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("身份证号码：")])],1)]),t._v(" "),a("el-col",{attrs:{span:14,offset:1}},[a("el-input",{ref:"IDCardNo",attrs:{placeholder:"身份证号码",name:"IDCardNo",type:"text",tabindex:"6",autocomplete:"on"},model:{value:t.infoForm.IDCardNo,callback:function(e){t.$set(t.infoForm,"IDCardNo",e)},expression:"infoForm.IDCardNo"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12,offset:6}},[a("el-button",{staticClass:"submit-button",attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[t._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(l,c,!1,function(t){a("u5rd")},"data-v-1125e252",null);e.default=f.exports},u5rd:function(t,e){}});
//# sourceMappingURL=1.73c6e30ca678d5a7754d.js.map